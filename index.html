<!-- I need to put this here, dont ask why --><!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bread Quest</title>
    <style>
        body, html {
            margin: 0;
            overflow: hidden;
            font-family: Arial, sans-serif;
        }
        #gameCanvas {
            display: block;
            background-color: #87CEEB; /* Initial sky-blue color for Level 1 */
        }
        #startScreen, #creditScreen {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            color: white;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            font-size: 20px;
            z-index: 2;
        }
        .hidden {
            display: none;
        }
        button {
            padding: 10px 20px;
            font-size: 16px;
            margin-top: 20px;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <div id="startScreen">
        <h1>Bread Quest</h1>
        <p>Collect ingredients and become the ultimate baker!</p>
        <button onclick="startGame()">Start Game</button>
    </div>
    <canvas id="gameCanvas"></canvas>
    <div id="creditScreen" class="hidden">
        <h1>Congratulations!</h1>
        <p>You have completed Bread Quest.</p>
        <button onclick="restartGame()">Restart</button>
    </div>
    <script>
        const canvas = document.getElementById('gameCanvas');
        const ctx = canvas.getContext('2d');
        let currentLevel = 0;
        const levelDesigns = [
            { name: 'Wheat Fields', bgColor: '#87CEEB', obstacles: 'ðŸŒ¾', enemies: 'ðŸ¦' },
            { name: 'Yeast Caves', bgColor: '#696969', obstacles: 'ðŸ•³ï¸', enemies: 'ðŸ¦‡' },
            { name: 'Salt Mines', bgColor: '#EEE8AA', obstacles: 'ðŸª¨', enemies: 'ðŸšƒ' },
            { name: 'Dairy Farms', bgColor: '#98FB98', obstacles: 'ðŸŒ¾', enemies: 'ðŸ' },
            { name: 'Enchanted Oven', bgColor: '#FFA07A', obstacles: 'ðŸ”¥', enemies: 'ðŸšª' },
        ];
        let score = 0;
        let gameScreenVisible = false;

        function startGame() {
            document.getElementById('startScreen').classList.add('hidden');
            updateCanvasSize();
            currentLevel = 1;
            score = 0;
            gameScreenVisible = true;
            gameLoop();
        }

        function restartGame() {
            document.getElementById('creditScreen').classList.add('hidden');
            document.getElementById('startScreen').classList.remove('hidden');
        }

        function updateCanvasSize() {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        }

        function gameLoop() {
            if (!gameScreenVisible) return;
            updateGame();
            renderGame();
            requestAnimationFrame(gameLoop);
        }

        function updateGame() {
            // Here we would handle game logic such as movement, physics, and level transitions
            // For simplicity, we will move through levels based on score just as a placeholder demo
            if (score >= 5) {
                currentLevel += 1;
                score = 0;
                if (currentLevel > levelDesigns.length) {
                    gameScreenVisible = false;
                    document.getElementById('creditScreen').classList.remove('hidden');
                }
            }
        }

        function renderGame() {
            const level = levelDesigns[currentLevel - 1];
            ctx.fillStyle = level.bgColor;
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            
            ctx.fillStyle = '#fff';
            ctx.font = '20px Arial';
            ctx.fillText(`Level: ${level.name}`, 20, 30);
            ctx.fillText(`Score: ${score}`, 20, 60);

            ctx.font = '50px Arial';
            ctx.fillText(level.obstacles, canvas.width / 2, canvas.height / 2);
            ctx.fillText(level.enemies, canvas.width / 2 + 60, canvas.height / 2);
        }

        window.addEventListener('resize', updateCanvasSize);
    </script>
</body>
</html>