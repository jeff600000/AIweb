<!-- I need to put this here, dont ask why --><!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Enigma of the 15</title>
    <style>
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background-color: #151515;
            font-family: 'Courier New', Courier, monospace;
        }

        #puzzle-container {
            display: grid;
            grid-template-columns: repeat(4, 80px);
            grid-template-rows: repeat(4, 80px);
            gap: 5px;
            transform: rotate(1deg);
            border: 3px solid #42f5e9;
            box-shadow: 0 0 20px #42f5e9, 0 0 20px #42f5e9 inset;
        }

        .tile {
            width: 80px;
            height: 80px;
            background-color: #3c3c3c;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 24px;
            color: #ffffff;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .tile:hover {
            background-color: #505050;
            transform: scale(1.1);
        }

        .empty {
            background-color: transparent;
            cursor: default;
        }
    </style>
</head>
<body>
    <div id="puzzle-container" title="Move the tiles and solve the mystery!">
        <!-- The tiles will be generated dynamically with JavaScript -->
    </div>

    <script>
        const puzzleContainer = document.getElementById('puzzle-container');
        let tiles = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, null]; // 15-puzzle

        // Shuffle the tiles array at the start
        tiles = tiles.sort(() => Math.random() - 0.5);

        // Render the shuffled tiles on the grid
        tiles.forEach((number, index) => {
            createTile(number, index);
        });

        function createTile(number, index) {
            const tile = document.createElement('div');
            tile.classList.add('tile');
            if (number !== null) {
                tile.textContent = number;
            } else {
                tile.classList.add('empty');
            }
            tile.addEventListener('click', () => moveTile(index));
            puzzleContainer.appendChild(tile);
        }

        function moveTile(index) {
            const emptyIndex = tiles.indexOf(null);
            if ([index - 1, index + 1, index - 4, index + 4].includes(emptyIndex)) {
                [tiles[emptyIndex], tiles[index]] = [tiles[index], tiles[emptyIndex]];
                renderPuzzle();
            }
        }

        function renderPuzzle() {
            puzzleContainer.innerHTML = '';
            tiles.forEach((number, index) => {
                createTile(number, index);
            });
        }
    </script>
</body>
</html>